var t={exports:{}},e={isArray:t=>Array.isArray(t),isObject:t=>"object"==typeof t&&!1===Array.isArray(t)&&null!==t,isFunction:t=>"function"==typeof t};const{isFunction:i}=e;var average$1=function(t){return void 0===t?this.sum()/this.items.length:i(t)?new this.constructor(this.items).sum(t)/this.items.length:new this.constructor(this.items).pluck(t).sum()/this.items.length},s=average$1,clone$2=function(t){let e;return Array.isArray(t)?(e=[],e.push(...t)):(e={},Object.keys(t).forEach((i=>{e[i]=t[i]}))),e};const o=clone$2;var values$8=function(t){const e=[];return Array.isArray(t)?e.push(...t):"Collection"===t.constructor.name?e.push(...t.all()):Object.keys(t).forEach((i=>e.push(t[i]))),e};const r=values$8,{isFunction:n}=e;var contains$1=function(t,e){if(void 0!==e)return Array.isArray(this.items)?this.items.filter((i=>void 0!==i[t]&&i[t]===e)).length>0:void 0!==this.items[t]&&this.items[t]===e;if(n(t))return this.items.filter(((e,i)=>t(e,i))).length>0;if(Array.isArray(this.items))return-1!==this.items.indexOf(t);const i=r(this.items);return i.push(...Object.keys(this.items)),-1!==i.indexOf(t)};const c=values$8;var variadic$4=function(t){return Array.isArray(t[0])?t[0]:t};const h=variadic$4;function falsyValue(t){if(Array.isArray(t)){if(t.length)return!1}else if(null!=t&&"object"==typeof t){if(Object.keys(t).length)return!1}else if(t)return!1;return!0}const{isFunction:l}=e,{isFunction:u}=e,{isArray:f,isObject:p}=e,{isFunction:y}=e;var nestedValue$8=function(t,e){try{return e.split(".").reduce(((t,e)=>t[e]),t)}catch(e){return t}};const m=nestedValue$8,{isFunction:a}=e,C=variadic$4,w=nestedValue$8,{isFunction:d}=e,{isFunction:A}=e,O=values$8,b=variadic$4,j=clone$2,{isArray:g,isObject:k}=e,v=nestedValue$8,E=variadic$4;var deleteKeys$2=function(t,...e){E(e).forEach((e=>{delete t[e]}))};const{isArray:x,isObject:F}=e,N=deleteKeys$2,{isFunction:S}=e,M=values$8,{isArray:J,isObject:B,isFunction:I}=e,{isArray:K,isObject:$}=e,P=deleteKeys$2,D=values$8,{isObject:R}=e,{isArray:W,isObject:U,isFunction:V}=e,{isArray:T,isObject:q,isFunction:z}=e,{isFunction:G}=e;var H=contains$1;const L=nestedValue$8,{isFunction:Q}=e,X=values$8,{isFunction:Y}=e,{isArray:Z,isObject:_,isFunction:tt}=e,{isArray:et,isObject:it,isFunction:st}=e;var whenNotEmpty=function(t,e){if(Array.isArray(this.items)&&this.items.length)return t(this);if(Object.keys(this.items).length)return t(this);if(void 0!==e){if(Array.isArray(this.items)&&!this.items.length)return e(this);if(!Object.keys(this.items).length)return e(this)}return this},whenEmpty=function(t,e){if(Array.isArray(this.items)&&!this.items.length)return t(this);if(!Object.keys(this.items).length)return t(this);if(void 0!==e){if(Array.isArray(this.items)&&this.items.length)return e(this);if(Object.keys(this.items).length)return e(this)}return this};const{isFunction:ot}=e,rt=values$8,nt=values$8,ct=nestedValue$8,ht=values$8,lt=nestedValue$8,ut=nestedValue$8,ft=values$8,pt=nestedValue$8;function Collection(t){void 0===t||Array.isArray(t)||"object"==typeof t?t instanceof this.constructor?this.items=t.all():this.items=t||[]:this.items=[t]}"undefined"!=typeof Symbol&&(Collection.prototype[Symbol.iterator]=function(){let t=-1;return{next:()=>(t+=1,{value:this.items[t],done:t>=this.items.length})}}),Collection.prototype.toJSON=function(){return this.items},Collection.prototype.all=function(){return this.items},Collection.prototype.average=average$1,Collection.prototype.avg=s,Collection.prototype.chunk=function(t){const e=[];let i=0;if(Array.isArray(this.items))do{const s=this.items.slice(i,i+t),o=new this.constructor(s);e.push(o),i+=t}while(i<this.items.length);else if("object"==typeof this.items){const s=Object.keys(this.items);do{const o=s.slice(i,i+t),r=new this.constructor({});o.forEach((t=>r.put(t,this.items[t]))),e.push(r),i+=t}while(i<s.length)}else e.push(new this.constructor([this.items]));return new this.constructor(e)},Collection.prototype.collapse=function(){return new this.constructor([].concat(...this.items))},Collection.prototype.combine=function(t){let e=t;e instanceof this.constructor&&(e=t.all());const i={};return Array.isArray(this.items)&&Array.isArray(e)?this.items.forEach(((t,s)=>{i[t]=e[s]})):"object"==typeof this.items&&"object"==typeof e?Object.keys(this.items).forEach(((t,s)=>{i[this.items[t]]=e[Object.keys(e)[s]]})):Array.isArray(this.items)?i[this.items[0]]=e:"string"==typeof this.items&&Array.isArray(e)?[i[this.items]]=e:"string"==typeof this.items&&(i[this.items]=e),new this.constructor(i)},Collection.prototype.concat=function(t){let e=t;t instanceof this.constructor?e=t.all():"object"==typeof t&&(e=[],Object.keys(t).forEach((i=>{e.push(t[i])})));const i=o(this.items);return e.forEach((t=>{"object"==typeof t?Object.keys(t).forEach((e=>i.push(t[e]))):i.push(t)})),new this.constructor(i)},Collection.prototype.contains=contains$1,Collection.prototype.containsOneItem=function(){return 1===this.count()},Collection.prototype.count=function(){let t=0;return Array.isArray(this.items)&&(t=this.items.length),Math.max(Object.keys(this.items).length,t)},Collection.prototype.countBy=function(t=t=>t){return new this.constructor(this.items).groupBy(t).map((t=>t.count()))},Collection.prototype.crossJoin=function(...t){return new this.constructor(function join(t,e,i){let s=i[0];s instanceof e&&(s=s.all());const o=i.slice(1),r=!o.length;let n=[];for(let i=0;i<s.length;i+=1){const c=t.slice();c.push(s[i]),r?n.push(c):n=n.concat(join(c,e,o))}return n}([],this.constructor,[].concat([this.items],t)))},Collection.prototype.dd=function(){this.dump(),"undefined"!=typeof process&&process.exit(1)},Collection.prototype.diff=function(t){let e;e=t instanceof this.constructor?t.all():t;const i=this.items.filter((t=>-1===e.indexOf(t)));return new this.constructor(i)},Collection.prototype.diffAssoc=function(t){let e=t;t instanceof this.constructor&&(e=t.all());const i={};return Object.keys(this.items).forEach((t=>{void 0!==e[t]&&e[t]===this.items[t]||(i[t]=this.items[t])})),new this.constructor(i)},Collection.prototype.diffKeys=function(t){let e;e=t instanceof this.constructor?t.all():t;const i=Object.keys(e),s=Object.keys(this.items).filter((t=>-1===i.indexOf(t)));return new this.constructor(this.items).only(s)},Collection.prototype.diffUsing=function(t,e){const i=this.items.filter((i=>!(t&&t.some((t=>0===e(i,t))))));return new this.constructor(i)},Collection.prototype.doesntContain=function(t,e){return!this.contains(t,e)},Collection.prototype.dump=function(){return console.log(this),this},Collection.prototype.duplicates=function(){const t=[],e={},stringifiedValue=t=>Array.isArray(t)||"object"==typeof t?JSON.stringify(t):t;return Array.isArray(this.items)?this.items.forEach(((i,s)=>{const o=stringifiedValue(i);-1===t.indexOf(o)?t.push(o):e[s]=i})):"object"==typeof this.items&&Object.keys(this.items).forEach((i=>{const s=stringifiedValue(this.items[i]);-1===t.indexOf(s)?t.push(s):e[i]=this.items[i]})),new this.constructor(e)},Collection.prototype.each=function(t){let e=!1;if(Array.isArray(this.items)){const{length:i}=this.items;for(let s=0;s<i&&!e;s+=1)e=!1===t(this.items[s],s,this.items)}else{const i=Object.keys(this.items),{length:s}=i;for(let o=0;o<s&&!e;o+=1){const s=i[o];e=!1===t(this.items[s],s,this.items)}}return this},Collection.prototype.eachSpread=function(t){return this.each(((e,i)=>{t(...e,i)})),this},Collection.prototype.every=function(t){return c(this.items).every(t)},Collection.prototype.except=function(...t){const e=h(t);if(Array.isArray(this.items)){const t=this.items.filter((t=>-1===e.indexOf(t)));return new this.constructor(t)}const i={};return Object.keys(this.items).forEach((t=>{-1===e.indexOf(t)&&(i[t]=this.items[t])})),new this.constructor(i)},Collection.prototype.filter=function(t){const e=t||!1;let i=null;return i=Array.isArray(this.items)?function(t,e){if(t)return e.filter(t);const i=[];for(let t=0;t<e.length;t+=1){const s=e[t];falsyValue(s)||i.push(s)}return i}(e,this.items):function(t,e){const i={};return Object.keys(e).forEach((s=>{t?t(e[s],s)&&(i[s]=e[s]):falsyValue(e[s])||(i[s]=e[s])})),i}(e,this.items),new this.constructor(i)},Collection.prototype.first=function(t,e){if(l(t)){const i=Object.keys(this.items);for(let e=0;e<i.length;e+=1){const s=i[e],o=this.items[s];if(t(o,s))return o}return l(e)?e():e}if(Array.isArray(this.items)&&this.items.length||Object.keys(this.items).length){if(Array.isArray(this.items))return this.items[0];const t=Object.keys(this.items)[0];return this.items[t]}return l(e)?e():e},Collection.prototype.firstOrFail=function(t,e,i){if(u(t))return this.first(t,(()=>{throw new Error("Item not found.")}));const s=this.where(t,e,i);if(s.isEmpty())throw new Error("Item not found.");return s.first()},Collection.prototype.firstWhere=function(t,e,i){return this.where(t,e,i).first()||null},Collection.prototype.flatMap=function(t){return this.map(t).collapse()},Collection.prototype.flatten=function(t){let e=t||1/0,i=!1,s=[];const flat=function(t){s=[],f(t)?t.forEach((t=>{f(t)?s=s.concat(t):p(t)?Object.keys(t).forEach((e=>{s=s.concat(t[e])})):s.push(t)})):Object.keys(t).forEach((e=>{f(t[e])?s=s.concat(t[e]):p(t[e])?Object.keys(t[e]).forEach((i=>{s=s.concat(t[e][i])})):s.push(t[e])})),i=s.filter((t=>p(t))),i=0===i.length,e-=1};for(flat(this.items);!i&&e>0;)flat(s);return new this.constructor(s)},Collection.prototype.flip=function(){const t={};return Array.isArray(this.items)?Object.keys(this.items).forEach((e=>{t[this.items[e]]=Number(e)})):Object.keys(this.items).forEach((e=>{t[this.items[e]]=e})),new this.constructor(t)},Collection.prototype.forPage=function(t,e){let i={};return Array.isArray(this.items)?i=this.items.slice(t*e-e,t*e):Object.keys(this.items).slice(t*e-e,t*e).forEach((t=>{i[t]=this.items[t]})),new this.constructor(i)},Collection.prototype.forget=function(t){return Array.isArray(this.items)?this.items.splice(t,1):delete this.items[t],this},Collection.prototype.get=function(t,e=null){return void 0!==this.items[t]?this.items[t]:y(e)?e():null!==e?e:null},Collection.prototype.groupBy=function(t){const e={};return this.items.forEach(((i,s)=>{let o;o=a(t)?t(i,s):m(i,t)||0===m(i,t)?m(i,t):"",void 0===e[o]&&(e[o]=new this.constructor([])),e[o].push(i)})),new this.constructor(e)},Collection.prototype.has=function(...t){const e=C(t);return e.filter((t=>Object.hasOwnProperty.call(this.items,t))).length===e.length},Collection.prototype.implode=function(t,e){return void 0===e?this.items.join(t):new this.constructor(this.items).pluck(t).all().join(e)},Collection.prototype.intersect=function(t){let e=t;t instanceof this.constructor&&(e=t.all());const i=this.items.filter((t=>-1!==e.indexOf(t)));return new this.constructor(i)},Collection.prototype.intersectByKeys=function(t){let e=Object.keys(t);t instanceof this.constructor&&(e=Object.keys(t.all()));const i={};return Object.keys(this.items).forEach((t=>{-1!==e.indexOf(t)&&(i[t]=this.items[t])})),new this.constructor(i)},Collection.prototype.isEmpty=function(){return Array.isArray(this.items)?!this.items.length:!Object.keys(this.items).length},Collection.prototype.isNotEmpty=function(){return!this.isEmpty()},Collection.prototype.join=function(t,e){const i=this.values();if(void 0===e)return i.implode(t);const s=i.count();if(0===s)return"";if(1===s)return i.last();const o=i.pop();return i.implode(t)+e+o},Collection.prototype.keyBy=function(t){const e={};return d(t)?this.items.forEach((i=>{e[t(i)]=i})):this.items.forEach((i=>{const s=w(i,t);e[s||""]=i})),new this.constructor(e)},Collection.prototype.keys=function(){let t=Object.keys(this.items);return Array.isArray(this.items)&&(t=t.map(Number)),new this.constructor(t)},Collection.prototype.last=function(t,e){let{items:i}=this;if(A(t)&&(i=this.filter(t).all()),Array.isArray(i)&&!i.length||!Object.keys(i).length)return A(e)?e():e;if(Array.isArray(i))return i[i.length-1];const s=Object.keys(i);return i[s[s.length-1]]},Collection.prototype.macro=function(t,e){this.constructor.prototype[t]=e},Collection.prototype.make=function(t=[]){return new this.constructor(t)},Collection.prototype.map=function(t){if(Array.isArray(this.items))return new this.constructor(this.items.map(t));const e={};return Object.keys(this.items).forEach((i=>{e[i]=t(this.items[i],i)})),new this.constructor(e)},Collection.prototype.mapSpread=function(t){return this.map(((e,i)=>t(...e,i)))},Collection.prototype.mapToDictionary=function(t){const e={};return this.items.forEach(((i,s)=>{const[o,r]=t(i,s);void 0===e[o]?e[o]=[r]:e[o].push(r)})),new this.constructor(e)},Collection.prototype.mapInto=function(t){return this.map(((e,i)=>new t(e,i)))},Collection.prototype.mapToGroups=function(t){const e={};return this.items.forEach(((i,s)=>{const[o,r]=t(i,s);void 0===e[o]?e[o]=[r]:e[o].push(r)})),new this.constructor(e)},Collection.prototype.mapWithKeys=function(t){const e={};return Array.isArray(this.items)?this.items.forEach(((i,s)=>{const[o,r]=t(i,s);e[o]=r})):Object.keys(this.items).forEach((i=>{const[s,o]=t(this.items[i],i);e[s]=o})),new this.constructor(e)},Collection.prototype.max=function(t){if("string"==typeof t){const e=this.items.filter((e=>void 0!==e[t]));return Math.max(...e.map((e=>e[t])))}return Math.max(...this.items)},Collection.prototype.median=function(t){const{length:e}=this.items;return void 0===t?e%2==0?(this.items[e/2-1]+this.items[e/2])/2:this.items[Math.floor(e/2)]:e%2==0?(this.items[e/2-1][t]+this.items[e/2][t])/2:this.items[Math.floor(e/2)][t]},Collection.prototype.merge=function(t){let e=t;if("string"==typeof e&&(e=[e]),Array.isArray(this.items)&&Array.isArray(e))return new this.constructor(this.items.concat(e));const i=JSON.parse(JSON.stringify(this.items));return Object.keys(e).forEach((t=>{i[t]=e[t]})),new this.constructor(i)},Collection.prototype.mergeRecursive=function(t){const merge=(t,e)=>{const i={};return Object.keys({...t,...e}).forEach((s=>{void 0===t[s]&&void 0!==e[s]?i[s]=e[s]:void 0!==t[s]&&void 0===e[s]?i[s]=t[s]:void 0!==t[s]&&void 0!==e[s]&&(t[s]===e[s]?i[s]=t[s]:Array.isArray(t[s])||"object"!=typeof t[s]||Array.isArray(e[s])||"object"!=typeof e[s]?i[s]=[].concat(t[s],e[s]):i[s]=merge(t[s],e[s]))})),i};return t?"Collection"===t.constructor.name?new this.constructor(merge(this.items,t.all())):new this.constructor(merge(this.items,t)):this},Collection.prototype.min=function(t){if(void 0!==t){const e=this.items.filter((e=>void 0!==e[t]));return Math.min(...e.map((e=>e[t])))}return Math.min(...this.items)},Collection.prototype.mode=function(t){const e=[];let i=1;return this.items.length?(this.items.forEach((s=>{const o=e.filter((e=>void 0!==t?e.key===s[t]:e.key===s));if(o.length){o[0].count+=1;const{count:t}=o[0];t>i&&(i=t)}else void 0!==t?e.push({key:s[t],count:1}):e.push({key:s,count:1})})),e.filter((t=>t.count===i)).map((t=>t.key))):null},Collection.prototype.nth=function(t,e=0){const i=O(this.items).slice(e).filter(((e,i)=>i%t==0));return new this.constructor(i)},Collection.prototype.only=function(...t){const e=b(t);if(Array.isArray(this.items)){const t=this.items.filter((t=>-1!==e.indexOf(t)));return new this.constructor(t)}const i={};return Object.keys(this.items).forEach((t=>{-1!==e.indexOf(t)&&(i[t]=this.items[t])})),new this.constructor(i)},Collection.prototype.pad=function(t,e){const i=Math.abs(t),s=this.count();if(i<=s)return this;let o=i-s;const r=j(this.items),n=Array.isArray(this.items),c=t<0;for(let t=0;t<o;)n?c?r.unshift(e):r.push(e):void 0!==r[t]?o+=1:r[t]=e,t+=1;return new this.constructor(r)},Collection.prototype.partition=function(t){let e;return Array.isArray(this.items)?(e=[new this.constructor([]),new this.constructor([])],this.items.forEach((i=>{!0===t(i)?e[0].push(i):e[1].push(i)}))):(e=[new this.constructor({}),new this.constructor({})],Object.keys(this.items).forEach((i=>{const s=this.items[i];!0===t(s)?e[0].put(i,s):e[1].put(i,s)}))),new this.constructor(e)},Collection.prototype.pipe=function(t){return t(this)},Collection.prototype.pluck=function(t,e){if(-1!==t.indexOf("*")){const i=function(t){const e={};return t.forEach(((t,i)=>{!function buildKeyPath(t,i){k(t)?Object.keys(t).forEach((e=>{buildKeyPath(t[e],`${i}.${e}`)})):g(t)&&t.forEach(((t,e)=>{buildKeyPath(t,`${i}.${e}`)})),e[i]=t}(t,i)})),e}(this.items),s=[];if(void 0!==e){const t=new RegExp(`0.${e}`,"g"),o=`0.${e}`.split(".").length;Object.keys(i).forEach((e=>{const r=e.match(t);if(r){const t=r[0];t.split(".").length===o&&s.push(i[t])}}))}const o=[],r=new RegExp(`0.${t}`,"g"),n=`0.${t}`.split(".").length;if(Object.keys(i).forEach((t=>{const e=t.match(r);if(e){const t=e[0];t.split(".").length===n&&o.push(i[t])}})),void 0!==e){const t={};return this.items.forEach(((e,i)=>{t[s[i]||""]=o})),new this.constructor(t)}return new this.constructor([o])}if(void 0!==e){const i={};return this.items.forEach((s=>{void 0!==v(s,t)?i[s[e]||""]=v(s,t):i[s[e]||""]=null})),new this.constructor(i)}return this.map((e=>void 0!==v(e,t)?v(e,t):null))},Collection.prototype.pop=function(t=1){if(this.isEmpty())return null;if(x(this.items))return 1===t?this.items.pop():new this.constructor(this.items.splice(-t));if(F(this.items)){const e=Object.keys(this.items);if(1===t){const t=e[e.length-1],i=this.items[t];return N(this.items,t),i}const i=e.slice(-t),s=i.reduce(((t,e)=>(t[e]=this.items[e],t)),{});return N(this.items,i),new this.constructor(s)}return null},Collection.prototype.prepend=function(t,e){return void 0!==e?this.put(e,t):(this.items.unshift(t),this)},Collection.prototype.pull=function(t,e){let i=this.items[t]||null;return i||void 0===e||(i=S(e)?e():e),delete this.items[t],i},Collection.prototype.push=function(...t){return this.items.push(...t),this},Collection.prototype.put=function(t,e){return this.items[t]=e,this},Collection.prototype.random=function(t=null){const e=M(this.items),i=new this.constructor(e).shuffle();return t!==parseInt(t,10)?i.first():i.take(t)},Collection.prototype.reduce=function(t,e){let i=null;return void 0!==e&&(i=e),Array.isArray(this.items)?this.items.forEach((e=>{i=t(i,e)})):Object.keys(this.items).forEach((e=>{i=t(i,this.items[e],e)})),i},Collection.prototype.reject=function(t){return new this.constructor(this.items).filter((e=>!t(e)))},Collection.prototype.replace=function(t){if(!t)return this;if(Array.isArray(t)){const e=this.items.map(((e,i)=>t[i]||e));return new this.constructor(e)}if("Collection"===t.constructor.name){const e={...this.items,...t.all()};return new this.constructor(e)}const e={...this.items,...t};return new this.constructor(e)},Collection.prototype.replaceRecursive=function(t){const replace=(t,e)=>{const i={...t};return Object.keys({...t,...e}).forEach((s=>{Array.isArray(e[s])||"object"!=typeof e[s]?void 0===t[s]&&void 0!==e[s]?"object"==typeof t[s]?i[s]={...e[s]}:i[s]=e[s]:void 0!==t[s]&&void 0===e[s]?"object"==typeof t[s]?i[s]={...t[s]}:i[s]=t[s]:void 0!==t[s]&&void 0!==e[s]&&("object"==typeof e[s]?i[s]={...e[s]}:i[s]=e[s]):i[s]=replace(t[s],e[s])})),i};return t?Array.isArray(t)||"object"==typeof t?"Collection"===t.constructor.name?new this.constructor(replace(this.items,t.all())):new this.constructor(replace(this.items,t)):new this.constructor(replace(this.items,[t])):this},Collection.prototype.reverse=function(){const t=[].concat(this.items).reverse();return new this.constructor(t)},Collection.prototype.search=function(t,e){let i;const find=(i,s)=>I(t)?t(this.items[s],s):e?this.items[s]===t:this.items[s]==t;return J(this.items)?i=this.items.findIndex(find):B(this.items)&&(i=Object.keys(this.items).find((t=>find(this.items[t],t)))),!(void 0===i||i<0)&&i},Collection.prototype.shift=function(t=1){if(this.isEmpty())return null;if(K(this.items))return 1===t?this.items.shift():new this.constructor(this.items.splice(0,t));if($(this.items)){if(1===t){const t=Object.keys(this.items)[0],e=this.items[t];return delete this.items[t],e}const e=Object.keys(this.items).slice(0,t),i=e.reduce(((t,e)=>(t[e]=this.items[e],t)),{});return P(this.items,e),new this.constructor(i)}return null},Collection.prototype.shuffle=function(){const t=D(this.items);let e,i,s;for(s=t.length;s;s-=1)e=Math.floor(Math.random()*s),i=t[s-1],t[s-1]=t[e],t[e]=i;return this.items=t,this},Collection.prototype.skip=function(t){return R(this.items)?new this.constructor(Object.keys(this.items).reduce(((e,i,s)=>(s+1>t&&(e[i]=this.items[i]),e)),{})):new this.constructor(this.items.slice(t))},Collection.prototype.skipUntil=function(t){let e,i=null,callback=e=>e===t;return V(t)&&(callback=t),W(this.items)&&(e=this.items.filter((t=>(!0!==i&&(i=callback(t)),i)))),U(this.items)&&(e=Object.keys(this.items).reduce(((t,e)=>(!0!==i&&(i=callback(this.items[e])),!1!==i&&(t[e]=this.items[e]),t)),{})),new this.constructor(e)},Collection.prototype.skipWhile=function(t){let e,i=null,callback=e=>e===t;return z(t)&&(callback=t),T(this.items)&&(e=this.items.filter((t=>(!0!==i&&(i=!callback(t)),i)))),q(this.items)&&(e=Object.keys(this.items).reduce(((t,e)=>(!0!==i&&(i=!callback(this.items[e])),!1!==i&&(t[e]=this.items[e]),t)),{})),new this.constructor(e)},Collection.prototype.slice=function(t,e){let i=this.items.slice(t);return void 0!==e&&(i=i.slice(0,e)),new this.constructor(i)},Collection.prototype.sole=function(t,e,i){let s;if(s=G(t)?this.filter(t):this.where(t,e,i),s.isEmpty())throw new Error("Item not found.");if(s.count()>1)throw new Error("Multiple items found.");return s.first()},Collection.prototype.some=H,Collection.prototype.sort=function(t){const e=[].concat(this.items);return void 0===t?this.every((t=>"number"==typeof t))?e.sort(((t,e)=>t-e)):e.sort():e.sort(t),new this.constructor(e)},Collection.prototype.sortDesc=function(){return this.sort().reverse()},Collection.prototype.sortBy=function(t){const e=[].concat(this.items),getValue=e=>Q(t)?t(e):L(e,t);return e.sort(((t,e)=>{const i=getValue(t),s=getValue(e);return null==i?1:null==s||i<s?-1:i>s?1:0})),new this.constructor(e)},Collection.prototype.sortByDesc=function(t){return this.sortBy(t).reverse()},Collection.prototype.sortKeys=function(){const t={};return Object.keys(this.items).sort().forEach((e=>{t[e]=this.items[e]})),new this.constructor(t)},Collection.prototype.sortKeysDesc=function(){const t={};return Object.keys(this.items).sort().reverse().forEach((e=>{t[e]=this.items[e]})),new this.constructor(t)},Collection.prototype.splice=function(t,e,i){const s=this.slice(t,e);if(this.items=this.diff(s.all()).all(),Array.isArray(i))for(let e=0,{length:s}=i;e<s;e+=1)this.items.splice(t+e,0,i[e]);return s},Collection.prototype.split=function(t){const e=Math.round(this.items.length/t),i=JSON.parse(JSON.stringify(this.items)),s=[];for(let o=0;o<t;o+=1)s.push(new this.constructor(i.splice(0,e)));return new this.constructor(s)},Collection.prototype.sum=function(t){const e=X(this.items);let i=0;if(void 0===t)for(let t=0,{length:s}=e;t<s;t+=1)i+=parseFloat(e[t]);else if(Y(t))for(let s=0,{length:o}=e;s<o;s+=1)i+=parseFloat(t(e[s]));else for(let s=0,{length:o}=e;s<o;s+=1)i+=parseFloat(e[s][t]);return parseFloat(i.toPrecision(12))},Collection.prototype.take=function(t){if(!Array.isArray(this.items)&&"object"==typeof this.items){const e=Object.keys(this.items);let i;i=t<0?e.slice(t):e.slice(0,t);const s={};return e.forEach((t=>{-1!==i.indexOf(t)&&(s[t]=this.items[t])})),new this.constructor(s)}return t<0?new this.constructor(this.items.slice(t)):new this.constructor(this.items.slice(0,t))},Collection.prototype.takeUntil=function(t){let e,i=null,callback=e=>e===t;return tt(t)&&(callback=t),Z(this.items)&&(e=this.items.filter((t=>(!1!==i&&(i=!callback(t)),i)))),_(this.items)&&(e=Object.keys(this.items).reduce(((t,e)=>(!1!==i&&(i=!callback(this.items[e])),!1!==i&&(t[e]=this.items[e]),t)),{})),new this.constructor(e)},Collection.prototype.takeWhile=function(t){let e,i=null,callback=e=>e===t;return st(t)&&(callback=t),et(this.items)&&(e=this.items.filter((t=>(!1!==i&&(i=callback(t)),i)))),it(this.items)&&(e=Object.keys(this.items).reduce(((t,e)=>(!1!==i&&(i=callback(this.items[e])),!1!==i&&(t[e]=this.items[e]),t)),{})),new this.constructor(e)},Collection.prototype.tap=function(t){return t(this),this},Collection.prototype.times=function(t,e){for(let i=1;i<=t;i+=1)this.items.push(e(i));return this},Collection.prototype.toArray=function(){const t=this.constructor;function iterate(e,i){const s=[];e instanceof t?(e.items.forEach((t=>iterate(t,s))),i.push(s)):Array.isArray(e)?(e.forEach((t=>iterate(t,s))),i.push(s)):i.push(e)}if(Array.isArray(this.items)){const t=[];return this.items.forEach((e=>{iterate(e,t)})),t}return this.values().all()},Collection.prototype.toJson=function(){return"object"!=typeof this.items||Array.isArray(this.items)?JSON.stringify(this.toArray()):JSON.stringify(this.all())},Collection.prototype.transform=function(t){if(Array.isArray(this.items))this.items=this.items.map(t);else{const e={};Object.keys(this.items).forEach((i=>{e[i]=t(this.items[i],i)})),this.items=e}return this},Collection.prototype.undot=function(){if(Array.isArray(this.items))return this;let t={};return Object.keys(this.items).forEach((e=>{if(-1!==e.indexOf(".")){const i=t;e.split(".").reduce(((t,i,s,o)=>(t[i]||(t[i]={}),s===o.length-1&&(t[i]=this.items[e]),t[i])),i),t={...t,...i}}else t[e]=this.items[e]})),new this.constructor(t)},Collection.prototype.unless=function(t,e,i){t?i(this):e(this)},Collection.prototype.unlessEmpty=whenNotEmpty,Collection.prototype.unlessNotEmpty=whenEmpty,Collection.prototype.union=function(t){const e=JSON.parse(JSON.stringify(this.items));return Object.keys(t).forEach((i=>{void 0===this.items[i]&&(e[i]=t[i])})),new this.constructor(e)},Collection.prototype.unique=function(t){let e;if(void 0===t)e=this.items.filter(((t,e,i)=>i.indexOf(t)===e));else{e=[];const i=[];for(let s=0,{length:o}=this.items;s<o;s+=1){let o;o=ot(t)?t(this.items[s]):this.items[s][t],-1===i.indexOf(o)&&(e.push(this.items[s]),i.push(o))}}return new this.constructor(e)},Collection.prototype.unwrap=function(t){return t instanceof this.constructor?t.all():t},Collection.prototype.values=function(){return new this.constructor(rt(this.items))},Collection.prototype.when=function(t,e,i){return t?e(this,t):i?i(this,t):this},Collection.prototype.whenEmpty=whenEmpty,Collection.prototype.whenNotEmpty=whenNotEmpty,Collection.prototype.where=function(t,e,i){let s=e,o=i;const r=nt(this.items);if(void 0===e||!0===e)return new this.constructor(r.filter((e=>ct(e,t))));if(!1===e)return new this.constructor(r.filter((e=>!ct(e,t))));void 0===i&&(o=e,s="===");const n=r.filter((e=>{switch(s){case"==":return ct(e,t)===Number(o)||ct(e,t)===o.toString();default:case"===":return ct(e,t)===o;case"!=":case"<>":return ct(e,t)!==Number(o)&&ct(e,t)!==o.toString();case"!==":return ct(e,t)!==o;case"<":return ct(e,t)<o;case"<=":return ct(e,t)<=o;case">":return ct(e,t)>o;case">=":return ct(e,t)>=o}}));return new this.constructor(n)},Collection.prototype.whereBetween=function(t,e){return this.where(t,">=",e[0]).where(t,"<=",e[e.length-1])},Collection.prototype.whereIn=function(t,e){const i=ht(e),s=this.items.filter((e=>-1!==i.indexOf(lt(e,t))));return new this.constructor(s)},Collection.prototype.whereInstanceOf=function(t){return this.filter((e=>e instanceof t))},Collection.prototype.whereNotBetween=function(t,e){return this.filter((i=>ut(i,t)<e[0]||ut(i,t)>e[e.length-1]))},Collection.prototype.whereNotIn=function(t,e){const i=ft(e),s=this.items.filter((e=>-1===i.indexOf(pt(e,t))));return new this.constructor(s)},Collection.prototype.whereNull=function(t=null){return this.where(t,"===",null)},Collection.prototype.whereNotNull=function(t=null){return this.where(t,"!==",null)},Collection.prototype.wrap=function(t){return t instanceof this.constructor?t:"object"==typeof t?new this.constructor(t):new this.constructor([t])},Collection.prototype.zip=function(t){let e=t;e instanceof this.constructor&&(e=e.all());const i=this.items.map(((t,i)=>new this.constructor([t,e[i]])));return new this.constructor(i)};const collect=t=>new Collection(t);t.exports=collect;var yt=t.exports.collect=collect;t.exports.default=collect,t.exports.Collection=Collection;export{yt as default};
//# sourceMappingURL=collect.js.map
